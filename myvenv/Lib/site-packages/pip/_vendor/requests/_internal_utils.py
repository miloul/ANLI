<<<<<<< HEAD
=======
# -*- coding: utf-8 -*-

>>>>>>> 605740f8538dd7fb83b5f6ac6deb3d05645734d3
"""
requests._internal_utils
~~~~~~~~~~~~~~

Provides utility functions that are consumed internally by Requests
which depend on extremely few external helpers (such as compat)
"""
<<<<<<< HEAD
import re

from .compat import builtin_str

_VALID_HEADER_NAME_RE_BYTE = re.compile(rb"^[^:\s][^:\r\n]*$")
_VALID_HEADER_NAME_RE_STR = re.compile(r"^[^:\s][^:\r\n]*$")
_VALID_HEADER_VALUE_RE_BYTE = re.compile(rb"^\S[^\r\n]*$|^$")
_VALID_HEADER_VALUE_RE_STR = re.compile(r"^\S[^\r\n]*$|^$")

HEADER_VALIDATORS = {
    bytes: (_VALID_HEADER_NAME_RE_BYTE, _VALID_HEADER_VALUE_RE_BYTE),
    str: (_VALID_HEADER_NAME_RE_STR, _VALID_HEADER_VALUE_RE_STR),
}


def to_native_string(string, encoding="ascii"):
=======

from .compat import is_py2, builtin_str, str


def to_native_string(string, encoding='ascii'):
>>>>>>> 605740f8538dd7fb83b5f6ac6deb3d05645734d3
    """Given a string object, regardless of type, returns a representation of
    that string in the native string type, encoding and decoding where
    necessary. This assumes ASCII unless told otherwise.
    """
    if isinstance(string, builtin_str):
        out = string
    else:
<<<<<<< HEAD
        out = string.decode(encoding)
=======
        if is_py2:
            out = string.encode(encoding)
        else:
            out = string.decode(encoding)
>>>>>>> 605740f8538dd7fb83b5f6ac6deb3d05645734d3

    return out


def unicode_is_ascii(u_string):
    """Determine if unicode string only contains ASCII characters.

    :param str u_string: unicode string to check. Must be unicode
        and not Python 2 `str`.
    :rtype: bool
    """
    assert isinstance(u_string, str)
    try:
<<<<<<< HEAD
        u_string.encode("ascii")
=======
        u_string.encode('ascii')
>>>>>>> 605740f8538dd7fb83b5f6ac6deb3d05645734d3
        return True
    except UnicodeEncodeError:
        return False
